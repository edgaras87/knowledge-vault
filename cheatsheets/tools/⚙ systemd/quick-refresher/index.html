<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://edgaras87.github.io/knowledge-vault/cheatsheets/tools/%E2%9A%99%20systemd/quick-refresher/" />
      <link rel="shortcut icon" href="../../../../img/favicon.ico" />
    <title>quick-refresher - Knowledge Vault</title>
    <link rel="stylesheet" href="../../../../css/theme.css" />
    <link rel="stylesheet" href="../../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../../../css/overrides.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "quick-refresher";
        var mkdocs_page_input_path = "cheatsheets/tools/\u2699 systemd/quick-refresher.md";
        var mkdocs_page_url = "/knowledge-vault/cheatsheets/tools/%E2%9A%99%20systemd/quick-refresher/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../../.." class="icon icon-home"> Knowledge Vault
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../../..">Knowledge Vault</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Cheatsheets</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" >Databases</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" >In memory</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" >🔴 redis</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../../databases/in-memory/%F0%9F%94%B4%20redis/quick-refresher/">quick-refresher</a>
                </li>
    </ul>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Relational</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" >🐘 postgresql</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../../databases/relational/%F0%9F%90%98%20postgresql/quick-refresher/">quick-refresher</a>
                </li>
    </ul>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Languages</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" >Java</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" >Core</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" >Nio</a>
    <ul>
                <li class="toctree-l5"><a class="reference internal" href="../../../languages/java/core/nio/path/">Path</a>
                </li>
    </ul>
                </li>
    </ul>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Networking</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" >Http</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../../networking/http/state/">State</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" >Tools</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../../obsidian-mkdocs-setup/">obsidian-mkdocs-setup</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Architecture</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../architecture/backend-overview/">backend-system-overview</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../architecture/frontend-overview/">frontend-system-overview</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../architecture/fullstack-deployment-overview/">fullstack-deployment-overview</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" >⚙ systemd</a>
    <ul class="current">
                <li class="toctree-l3 current"><a class="reference internal current" href="#">quick-refresher</a>
    <ul class="current">
    <li class="toctree-l4"><a class="reference internal" href="#1-what-systemd-actually-does">🧠 1. What systemd Actually Does</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#2-key-systemctl-commands-quick-reference">🧩 2. Key systemctl Commands (Quick Reference)</a>
        <ul>
    <li class="toctree-l5"><a class="reference internal" href="#explanation">Explanation:</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#4-common-service-states">🧰 4. Common Service States</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#5-dependency-and-target-system">🧩 5. Dependency and Target System</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#6-journal-logs-and-debugging">⚡ 6. Journal Logs and Debugging</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#7-timers-systemds-cron-alternative">🧰 7. Timers (systemd’s Cron Alternative)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#8-user-services-per-user-systemd">🧩 8. User Services (Per-User systemd)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#9-service-restart-and-recovery-patterns">🧱 9. Service Restart and Recovery Patterns</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#10-practical-developer-workflow">🧠 10. Practical Developer Workflow</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#11-systemd-development-environments">🧩 11. systemd + Development Environments</a>
        <ul>
    <li class="toctree-l5"><a class="reference internal" href="#jetbrains-ide-integration">JetBrains IDE Integration</a>
    </li>
    <li class="toctree-l5"><a class="reference internal" href="#vs-code-tasks">VS Code Tasks</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#12-troubleshooting-common-issues">🧰 12. Troubleshooting Common Issues</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#13-real-world-example-custom-api-service">🧩 13. Real-World Example: Custom API Service</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#14-summary">✅ 14. Summary</a>
    </li>
    </ul>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >🌐 nginx</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../%F0%9F%8C%90%20nginx/quick-refresher/">quick-refresher</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >🐳 docker</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../%F0%9F%90%B3%20docker/quick-refresher/">quick-refresher</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >🧠 git</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../%F0%9F%A7%A0%20git/quick-refresher/">quick-refresher</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Concepts</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" >Networking</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" >Http</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../../../concepts/networking/http/10-index/">Starter</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../concepts/networking/http/20-quick-refresher/">Quick Refresher</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../concepts/networking/http/30-state-evolution/">State (Evolution)</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../concepts/networking/http/40-cookies/">Cookies</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../concepts/networking/http/50-tokens/">Tokens</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Learning</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" >Backend</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../../learning/backend/spring-roadmap/">Spring roadmap</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Meta</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../../meta/structure-notes/">🧩 Structure Notes — Cheatsheets Organization</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../..">Knowledge Vault</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Cheatsheets</li>
          <li class="breadcrumb-item">Tools</li>
          <li class="breadcrumb-item">⚙ systemd</li>
      <li class="breadcrumb-item active">quick-refresher</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/edgaras87/knowledge-vault/edit/main/docs/cheatsheets/tools/⚙ systemd/quick-refresher.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="linux-systemd-systemctl-from-basics-to-service-mastery">⚙️ Linux systemd &amp; systemctl: From Basics to Service Mastery<a class="headerlink" href="#linux-systemd-systemctl-from-basics-to-service-mastery" title="Permanent link">&para;</a></h1>
<p><code>systemd</code> is the <strong>init system and service manager</strong> used by most modern Linux distributions (Ubuntu, Debian, Fedora, Arch, CentOS, etc.).<br />
It’s what boots your system, starts background services, handles logs, timers, sockets, and shutdowns.</p>
<p><code>systemctl</code> is the command-line interface for controlling <code>systemd</code>.</p>
<hr />
<h2 id="1-what-systemd-actually-does">🧠 1. What systemd Actually Does<a class="headerlink" href="#1-what-systemd-actually-does" title="Permanent link">&para;</a></h2>
<p>When Linux boots, <code>systemd</code>:
1. Mounts file systems.<br />
2. Spawns essential processes.<br />
3. Starts all enabled services.<br />
4. Manages dependencies and restarts on failure.</p>
<p>It replaces older systems like <code>SysVinit</code> and <code>upstart</code>, providing faster parallel startup and fine-grained control.</p>
<p>👉 In short: <code>systemd</code> is the <strong>conductor</strong>; services are the <strong>instruments</strong>.</p>
<hr />
<h2 id="2-key-systemctl-commands-quick-reference">🧩 2. Key systemctl Commands (Quick Reference)<a class="headerlink" href="#2-key-systemctl-commands-quick-reference" title="Permanent link">&para;</a></h2>
<p><div class="highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1"># Service management</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>docker
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>stop<span class="w"> </span>nginx
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>postgresql
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>reload<span class="w"> </span>nginx<span class="w">          </span><span class="c1"># reload config without stopping</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>status<span class="w"> </span>redis<span class="w">          </span><span class="c1"># check active status + logs</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="c1"># Boot-time behavior</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>docker<span class="w">         </span><span class="c1"># start automatically at boot</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>disable<span class="w"> </span>docker<span class="w">        </span><span class="c1"># disable at boot</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>is-enabled<span class="w"> </span>nginx<span class="w">      </span><span class="c1"># check status</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="c1"># Logs and info</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>journalctl<span class="w"> </span>-u<span class="w"> </span>nginx<span class="w">                  </span><span class="c1"># logs for one service</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>journalctl<span class="w"> </span>-xe<span class="w">                       </span><span class="c1"># detailed system logs</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>systemctl<span class="w"> </span>list-units<span class="w"> </span>--type<span class="o">=</span>service<span class="w">  </span><span class="c1"># all active services</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>systemctl<span class="w"> </span>list-timers<span class="w">                </span><span class="c1"># scheduled timers</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="c1"># System power control</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>reboot
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>poweroff
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a><span class="sb">````</span>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>---
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a><span class="c1">## 🧱 3. Anatomy of a Systemd Unit File</span>
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>Unit<span class="w"> </span>files<span class="w"> </span>define<span class="w"> </span>how<span class="w"> </span>services<span class="w"> </span>behave.<span class="w"> </span>They<span class="w"> </span>live<span class="w"> </span>under:
</span></code></pre></div>
/etc/systemd/system/      # custom user units
/lib/systemd/system/      # system packages
<div class="highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>Example: `/etc/systemd/system/myapp.service`
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>```ini
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>[Unit]
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>Description=My Java Spring Boot Application
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>After=network.target
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>[Service]
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>User=appuser
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>WorkingDirectory=/opt/myapp
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>ExecStart=/usr/bin/java -jar app.jar
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>Restart=on-failure
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>EnvironmentFile=/opt/myapp/.env
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>[Install]
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>WantedBy=multi-user.target
</span></code></pre></div></p>
<h3 id="explanation">Explanation:<a class="headerlink" href="#explanation" title="Permanent link">&para;</a></h3>
<ul>
<li><code>[Unit]</code> — dependencies and metadata.</li>
<li><code>[Service]</code> — what to run, as whom, and how to handle restarts.</li>
<li><code>[Install]</code> — links service into system targets (boot-time groups).</li>
</ul>
<p>Reload after editing:</p>
<div class="highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>daemon-reload
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>myapp
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>myapp
</span></code></pre></div>
<hr />
<h2 id="4-common-service-states">🧰 4. Common Service States<a class="headerlink" href="#4-common-service-states" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Command</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>active (running)</code></td>
<td>Service is up.</td>
</tr>
<tr>
<td><code>inactive (dead)</code></td>
<td>Stopped.</td>
</tr>
<tr>
<td><code>failed</code></td>
<td>Crashed or exited abnormally.</td>
</tr>
<tr>
<td><code>reloading</code></td>
<td>Reloading config.</td>
</tr>
<tr>
<td><code>activating/deactivating</code></td>
<td>In startup/shutdown phase.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="5-dependency-and-target-system">🧩 5. Dependency and Target System<a class="headerlink" href="#5-dependency-and-target-system" title="Permanent link">&para;</a></h2>
<p>systemd organizes services into <strong>targets</strong> — logical groups like:</p>
<ul>
<li><code>multi-user.target</code> → standard multi-user system (normal operation)</li>
<li><code>graphical.target</code> → with GUI</li>
<li><code>network.target</code> → networking online</li>
<li><code>default.target</code> → system’s default startup target</li>
</ul>
<p>Check default:</p>
<div class="highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>systemctl<span class="w"> </span>get-default
</span></code></pre></div>
<p>Change it (e.g., to boot without GUI):</p>
<div class="highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>set-default<span class="w"> </span>multi-user.target
</span></code></pre></div>
<hr />
<h2 id="6-journal-logs-and-debugging">⚡ 6. Journal Logs and Debugging<a class="headerlink" href="#6-journal-logs-and-debugging" title="Permanent link">&para;</a></h2>
<p><code>journalctl</code> reads systemd’s binary logs.</p>
<div class="highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>journalctl<span class="w"> </span>-u<span class="w"> </span>docker.service<span class="w">     </span><span class="c1"># logs for Docker only</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>journalctl<span class="w"> </span>--since<span class="w"> </span><span class="s2">&quot;2 hours ago&quot;</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>journalctl<span class="w"> </span>-f<span class="w">                    </span><span class="c1"># follow logs (like tail -f)</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>journalctl<span class="w"> </span>-k<span class="w">                    </span><span class="c1"># kernel logs</span>
</span></code></pre></div>
<p>Filter by boot:</p>
<div class="highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>journalctl<span class="w"> </span>-b<span class="w"> </span>-1<span class="w">    </span><span class="c1"># previous boot logs</span>
</span></code></pre></div>
<hr />
<h2 id="7-timers-systemds-cron-alternative">🧰 7. Timers (systemd’s Cron Alternative)<a class="headerlink" href="#7-timers-systemds-cron-alternative" title="Permanent link">&para;</a></h2>
<p>Timers replace <code>cron</code> with more flexibility and better logging.</p>
<p>Example: <code>/etc/systemd/system/backup.timer</code></p>
<div class="highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="k">[Unit]</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="na">Description</span><span class="o">=</span><span class="s">Nightly DB Backup</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="k">[Timer]</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="na">OnCalendar</span><span class="o">=</span><span class="s">daily</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="na">Persistent</span><span class="o">=</span><span class="s">true</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="k">[Install]</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="na">WantedBy</span><span class="o">=</span><span class="s">timers.target</span>
</span></code></pre></div>
<p>Then <code>/etc/systemd/system/backup.service</code>:</p>
<div class="highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="k">[Service]</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="na">Type</span><span class="o">=</span><span class="s">oneshot</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="na">ExecStart</span><span class="o">=</span><span class="s">/usr/local/bin/backup.sh</span>
</span></code></pre></div>
<p>Enable:</p>
<div class="highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>--now<span class="w"> </span>backup.timer
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>systemctl<span class="w"> </span>list-timers
</span></code></pre></div>
<hr />
<h2 id="8-user-services-per-user-systemd">🧩 8. User Services (Per-User systemd)<a class="headerlink" href="#8-user-services-per-user-systemd" title="Permanent link">&para;</a></h2>
<p>You can run systemd-managed processes <strong>without root</strong>:</p>
<div class="highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>systemctl<span class="w"> </span>--user<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>myscript.service
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>systemctl<span class="w"> </span>--user<span class="w"> </span>start<span class="w"> </span>myscript.service
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>systemctl<span class="w"> </span>--user<span class="w"> </span>status<span class="w"> </span>myscript.service
</span></code></pre></div>
<p>Useful for background scripts, language servers, or dev daemons.</p>
<p>Config lives under:</p>
<div class="highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>~/.config/systemd/user/
</span></code></pre></div>
<hr />
<h2 id="9-service-restart-and-recovery-patterns">🧱 9. Service Restart and Recovery Patterns<a class="headerlink" href="#9-service-restart-and-recovery-patterns" title="Permanent link">&para;</a></h2>
<p>Add to <code>[Service]</code> section:</p>
<div class="highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="na">Restart</span><span class="o">=</span><span class="s">on-failure</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="na">RestartSec</span><span class="o">=</span><span class="s">5</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="na">StartLimitIntervalSec</span><span class="o">=</span><span class="s">0</span>
</span></code></pre></div>
<p>Optional advanced options:</p>
<ul>
<li><code>Restart=always</code> → restarts even after manual stop.</li>
<li><code>ExecStartPre=/usr/bin/sleep 10</code> → delay before launch.</li>
<li><code>ExecStopPost=/usr/bin/logger "Service stopped"</code> → log cleanup.</li>
</ul>
<hr />
<h2 id="10-practical-developer-workflow">🧠 10. Practical Developer Workflow<a class="headerlink" href="#10-practical-developer-workflow" title="Permanent link">&para;</a></h2>
<p>Most backend tools (Docker, PostgreSQL, Redis, Nginx) are <strong>systemd-managed</strong>.
Here’s the unified pattern for checking and controlling them:</p>
<div class="highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>status<span class="w"> </span>docker<span class="w"> </span>postgresql<span class="w"> </span>redis<span class="w"> </span>nginx
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>nginx
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>postgresql<span class="w"> </span>redis
</span></code></pre></div>
<p>To verify all are active:</p>
<div class="highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>systemctl<span class="w"> </span>list-units<span class="w"> </span>--type<span class="o">=</span>service<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-E<span class="w"> </span><span class="s1">&#39;nginx|redis|docker|postgres&#39;</span>
</span></code></pre></div>
<p>💡 If you use Docker Compose, those containers run <em>inside</em> Docker,
but Docker itself is still a systemd service — <code>systemctl restart docker</code> affects them all.</p>
<hr />
<h2 id="11-systemd-development-environments">🧩 11. systemd + Development Environments<a class="headerlink" href="#11-systemd-development-environments" title="Permanent link">&para;</a></h2>
<h3 id="jetbrains-ide-integration">JetBrains IDE Integration<a class="headerlink" href="#jetbrains-ide-integration" title="Permanent link">&para;</a></h3>
<ul>
<li>“Before Launch” task: run <code>sudo systemctl start &lt;service&gt;</code> automatically.</li>
<li>Add shell scripts to your Run Configurations for restarting or tailing logs.</li>
<li>Combine with remote deployment — JetBrains can SSH + reload services post-deploy.</li>
</ul>
<p>Example remote deploy script:</p>
<div class="highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>scp<span class="w"> </span>-r<span class="w"> </span>./app.jar<span class="w"> </span>user@server:/opt/myapp/
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>ssh<span class="w"> </span>user@server<span class="w"> </span><span class="s2">&quot;sudo systemctl restart myapp&quot;</span>
</span></code></pre></div>
<h3 id="vs-code-tasks">VS Code Tasks<a class="headerlink" href="#vs-code-tasks" title="Permanent link">&para;</a></h3>
<p>Add to <code>.vscode/tasks.json</code>:</p>
<div class="highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="p">{</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="w">  </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Restart Nginx&quot;</span><span class="p">,</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;shell&quot;</span><span class="p">,</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">  </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sudo systemctl restart nginx&quot;</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="p">}</span>
</span></code></pre></div>
<p>Run directly from VS Code’s command palette.</p>
<hr />
<h2 id="12-troubleshooting-common-issues">🧰 12. Troubleshooting Common Issues<a class="headerlink" href="#12-troubleshooting-common-issues" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Problem</th>
<th>Fix</th>
</tr>
</thead>
<tbody>
<tr>
<td>“Unit not found”</td>
<td>Create a <code>.service</code> file under <code>/etc/systemd/system</code> and reload daemon.</td>
</tr>
<tr>
<td>Service doesn’t start</td>
<td>Check <code>journalctl -u &lt;service&gt;</code>.</td>
</tr>
<tr>
<td>Config edits not applied</td>
<td>Run <code>sudo systemctl daemon-reload</code>.</td>
</tr>
<tr>
<td>Service loops restart</td>
<td>Review <code>Restart=</code> directives or logs.</td>
</tr>
<tr>
<td>Permission denied</td>
<td>Ensure correct <code>User=</code> and file ownership.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="13-real-world-example-custom-api-service">🧩 13. Real-World Example: Custom API Service<a class="headerlink" href="#13-real-world-example-custom-api-service" title="Permanent link">&para;</a></h2>
<p><code>/etc/systemd/system/backend.service</code></p>
<div class="highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="k">[Unit]</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="na">Description</span><span class="o">=</span><span class="s">Spring Boot API</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="na">After</span><span class="o">=</span><span class="s">network.target</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="k">[Service]</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="na">User</span><span class="o">=</span><span class="s">appuser</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="na">ExecStart</span><span class="o">=</span><span class="s">/usr/bin/java -jar /opt/backend/app.jar</span>
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="na">Restart</span><span class="o">=</span><span class="s">always</span>
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="na">Environment</span><span class="o">=</span><span class="s">SPRING_PROFILES_ACTIVE=prod</span>
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a><span class="na">EnvironmentFile</span><span class="o">=</span><span class="s">/opt/backend/.env</span>
</span><span id="__span-17-11"><a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a>
</span><span id="__span-17-12"><a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a><span class="k">[Install]</span>
</span><span id="__span-17-13"><a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a><span class="na">WantedBy</span><span class="o">=</span><span class="s">multi-user.target</span>
</span></code></pre></div>
<p>Commands:</p>
<div class="highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>daemon-reload
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>backend
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>backend
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>status<span class="w"> </span>backend
</span></code></pre></div>
<hr />
<h2 id="14-summary">✅ 14. Summary<a class="headerlink" href="#14-summary" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>systemd</strong> boots, manages, restarts, and logs all major services.</li>
<li><strong>systemctl</strong> gives you direct command-line control.</li>
<li>Services are defined via <code>.service</code> unit files — easy to write, easy to automate.</li>
<li>Timers replace cron with more control.</li>
<li>Understanding this layer makes you a confident operator — not just a developer.</li>
</ul>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../../architecture/fullstack-deployment-overview/" class="btn btn-neutral float-left" title="fullstack-deployment-overview"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../../%F0%9F%8C%90%20nginx/quick-refresher/" class="btn btn-neutral float-right" title="quick-refresher">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/edgaras87/knowledge-vault" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../../architecture/fullstack-deployment-overview/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../../%F0%9F%8C%90%20nginx/quick-refresher/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../../..";</script>
    <script src="../../../../js/theme_extra.js"></script>
    <script src="../../../../js/theme.js"></script>
      <script src="../../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
