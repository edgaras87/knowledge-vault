<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://edgaras87.github.io/knowledge-vault/cheatsheets/tools/%F0%9F%8C%90%20nginx/quick-refresher/" />
      <link rel="shortcut icon" href="../../../../img/favicon.ico" />
    <title>quick-refresher - Knowledge Vault</title>
    <link rel="stylesheet" href="../../../../css/theme.css" />
    <link rel="stylesheet" href="../../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../../../css/overrides.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "quick-refresher";
        var mkdocs_page_input_path = "cheatsheets/tools/\ud83c\udf10 nginx/quick-refresher.md";
        var mkdocs_page_url = "/knowledge-vault/cheatsheets/tools/%F0%9F%8C%90%20nginx/quick-refresher/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../../.." class="icon icon-home"> Knowledge Vault
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../../..">Knowledge Vault</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Cheatsheets</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" >Databases</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" >In memory</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" >🔴 redis</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../../databases/in-memory/%F0%9F%94%B4%20redis/quick-refresher/">quick-refresher</a>
                </li>
    </ul>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Relational</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" >🐘 postgresql</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../../databases/relational/%F0%9F%90%98%20postgresql/quick-refresher/">quick-refresher</a>
                </li>
    </ul>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Languages</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" >Java</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" >Core</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" >Nio</a>
    <ul>
                <li class="toctree-l5"><a class="reference internal" href="../../../languages/java/core/nio/path/">Path</a>
                </li>
    </ul>
                </li>
    </ul>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Networking</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" >Http</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../../networking/http/state/">State</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" >Tools</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../../obsidian-mkdocs-setup/">obsidian-mkdocs-setup</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Architecture</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../architecture/backend-overview/">backend-system-overview</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../architecture/frontend-overview/">frontend-system-overview</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../architecture/fullstack-deployment-overview/">fullstack-deployment-overview</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >⚙ systemd</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../%E2%9A%99%20systemd/quick-refresher/">quick-refresher</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" >🌐 nginx</a>
    <ul class="current">
                <li class="toctree-l3 current"><a class="reference internal current" href="#">quick-refresher</a>
    <ul class="current">
    <li class="toctree-l4"><a class="reference internal" href="#1-what-nginx-actually-does">⚙️ 1. What Nginx Actually Does</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#2-core-concepts">🧱 2. Core Concepts</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#3-file-structure-overview">🧩 3. File Structure Overview</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#5-reverse-proxy-setup">🔁 5. Reverse Proxy Setup</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#6-https-tls-configuration">🔒 6. HTTPS (TLS) Configuration</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#7-load-balancing-example">⚡ 7. Load Balancing Example</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#8-useful-directives-variables">🧠 8. Useful Directives &amp; Variables</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#9-logging-and-monitoring">🧩 9. Logging and Monitoring</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#10-caching-static-assets">🧩 10. Caching Static Assets</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#11-security-hardening">🧱 11. Security Hardening</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#12-example-full-setup-static-api-proxy-https">🧩 12. Example Full Setup (Static + API Proxy + HTTPS)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#13-nginx-in-development-environments">🧩 13. Nginx in Development Environments</a>
        <ul>
    <li class="toctree-l5"><a class="reference internal" href="#jetbrains-idea-pycharm">JetBrains (IDEA / PyCharm)</a>
    </li>
    <li class="toctree-l5"><a class="reference internal" href="#vs-code">VS Code</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#14-troubleshooting">🧰 14. Troubleshooting</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#15-advanced-topics-for-later">🧠 15. Advanced Topics (for later)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#summary">✅ Summary</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#16-nginx-in-developer-workflows-jetbrains-vs-code">💻 16. Nginx in Developer Workflows (JetBrains &amp; VS Code)</a>
        <ul>
    <li class="toctree-l5"><a class="reference internal" href="#jetbrains-ides-intellij-idea-pycharm-etc">🧩 JetBrains IDEs (IntelliJ IDEA, PyCharm, etc.)</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#17-nginx-docker-compose-in-local-development">🧰 17. Nginx + Docker Compose in Local Development</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#18-staging-vs-production-patterns">🚀 18. Staging vs. Production Patterns</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#19-common-cicd-integrations">🧩 19. Common CI/CD Integrations</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#20-best-practices-developer-habits">🧠 20. Best Practices &amp; Developer Habits</a>
        <ul>
    <li class="toctree-l5"><a class="reference internal" href="#configuration-hygiene">Configuration Hygiene</a>
    </li>
    <li class="toctree-l5"><a class="reference internal" href="#developer-sanity-checklist">Developer sanity checklist</a>
    </li>
    <li class="toctree-l5"><a class="reference internal" href="#ide-habit">IDE habit</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#summary-developer-edition">✅ Summary (Developer Edition)</a>
    </li>
    </ul>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >🐳 docker</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../%F0%9F%90%B3%20docker/quick-refresher/">quick-refresher</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >🧠 git</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../%F0%9F%A7%A0%20git/quick-refresher/">quick-refresher</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Concepts</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" >Networking</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" >Http</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../../../concepts/networking/http/10-index/">Starter</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../concepts/networking/http/20-quick-refresher/">Quick Refresher</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../concepts/networking/http/30-state-evolution/">State (Evolution)</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../concepts/networking/http/40-cookies/">Cookies</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../concepts/networking/http/50-tokens/">Tokens</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Learning</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" >Backend</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../../learning/backend/spring-roadmap/">Spring roadmap</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Meta</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../../meta/structure-notes/">🧩 Structure Notes — Cheatsheets Organization</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../..">Knowledge Vault</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Cheatsheets</li>
          <li class="breadcrumb-item">Tools</li>
          <li class="breadcrumb-item">🌐 nginx</li>
      <li class="breadcrumb-item active">quick-refresher</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/edgaras87/knowledge-vault/edit/main/docs/cheatsheets/tools/🌐 nginx/quick-refresher.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="nginx-from-basics-to-high-performance-web-serving">🌐 Nginx: From Basics to High-Performance Web Serving<a class="headerlink" href="#nginx-from-basics-to-high-performance-web-serving" title="Permanent link">&para;</a></h1>
<p>Nginx (“engine-x”) is a <strong>high-performance web server, reverse proxy, and load balancer</strong>.<br />
It’s lightweight, event-driven, and designed to handle thousands of concurrent connections with minimal resources.<br />
You’ll find it serving static sites, routing API traffic, proxying backend apps, or terminating SSL — often all at once.</p>
<hr />
<h2 id="1-what-nginx-actually-does">⚙️ 1. What Nginx Actually Does<a class="headerlink" href="#1-what-nginx-actually-does" title="Permanent link">&para;</a></h2>
<p>Nginx can play multiple roles depending on configuration:</p>
<table>
<thead>
<tr>
<th>Role</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Web server</strong></td>
<td>Serves static files directly (HTML, JS, CSS, images).</td>
</tr>
<tr>
<td><strong>Reverse proxy</strong></td>
<td>Forwards client requests to backend apps (e.g., Node, Spring Boot).</td>
</tr>
<tr>
<td><strong>Load balancer</strong></td>
<td>Distributes requests across multiple backend servers.</td>
</tr>
<tr>
<td><strong>TLS terminator</strong></td>
<td>Handles HTTPS encryption before passing traffic internally.</td>
</tr>
<tr>
<td><strong>Cache layer</strong></td>
<td>Stores responses to reduce backend load.</td>
</tr>
</tbody>
</table>
<p>👉 In short: Nginx sits <strong>between the internet and your application</strong>, managing how traffic flows.</p>
<hr />
<h2 id="2-core-concepts">🧱 2. Core Concepts<a class="headerlink" href="#2-core-concepts" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Concept</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Worker processes</strong></td>
<td>Handle client connections. Nginx scales by using multiple workers efficiently.</td>
</tr>
<tr>
<td><strong>Directives</strong></td>
<td>Configuration commands that define behavior (e.g., <code>listen</code>, <code>server_name</code>).</td>
</tr>
<tr>
<td><strong>Context blocks</strong></td>
<td>Hierarchical sections: <code>main</code>, <code>http</code>, <code>server</code>, and <code>location</code>.</td>
</tr>
<tr>
<td><strong>Server block</strong></td>
<td>Defines a virtual host — domain, ports, SSL, routes.</td>
</tr>
<tr>
<td><strong>Location block</strong></td>
<td>Defines how to handle requests matching specific URIs.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="3-file-structure-overview">🧩 3. File Structure Overview<a class="headerlink" href="#3-file-structure-overview" title="Permanent link">&para;</a></h2>
<p>Typical Linux layout after install:</p>
<div class="highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>/etc/nginx/
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>├─ nginx.conf          # main config (includes others)
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>├─ conf.d/             # custom site configs (enabled by default)
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>├─ sites-available/    # optional (Debian/Ubuntu layout)
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>├─ sites-enabled/      # symlinks to active sites
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>├─ snippets/           # reusable config fragments
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>└─ logs/
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>├─ access.log
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>└─ error.log
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>````
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>Test and reload Nginx safely:
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>```bash
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>sudo nginx -t       # test syntax
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>sudo systemctl reload nginx
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>sudo systemctl status nginx
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>````
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>---
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>## 🧰 4. Basic HTTP Server Example
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>**Goal:** Serve static files from `/var/www/html` on port 80.
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>```nginx
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>server {
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>    listen 80;
</span><span id="__span-0-30"><a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a>    server_name example.com;
</span><span id="__span-0-31"><a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a>
</span><span id="__span-0-32"><a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a>    root /var/www/html;
</span><span id="__span-0-33"><a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a>    index index.html;
</span><span id="__span-0-34"><a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a>
</span><span id="__span-0-35"><a id="__codelineno-0-35" name="__codelineno-0-35" href="#__codelineno-0-35"></a>    access_log /var/log/nginx/access.log;
</span><span id="__span-0-36"><a id="__codelineno-0-36" name="__codelineno-0-36" href="#__codelineno-0-36"></a>    error_log /var/log/nginx/error.log;
</span><span id="__span-0-37"><a id="__codelineno-0-37" name="__codelineno-0-37" href="#__codelineno-0-37"></a>
</span><span id="__span-0-38"><a id="__codelineno-0-38" name="__codelineno-0-38" href="#__codelineno-0-38"></a>    location / {
</span><span id="__span-0-39"><a id="__codelineno-0-39" name="__codelineno-0-39" href="#__codelineno-0-39"></a>        try_files $uri $uri/ =404;
</span><span id="__span-0-40"><a id="__codelineno-0-40" name="__codelineno-0-40" href="#__codelineno-0-40"></a>    }
</span><span id="__span-0-41"><a id="__codelineno-0-41" name="__codelineno-0-41" href="#__codelineno-0-41"></a>}
</span></code></pre></div>
<p>👉 This is Nginx as a <strong>pure web server</strong> — no proxying, just serving files.</p>
<hr />
<h2 id="5-reverse-proxy-setup">🔁 5. Reverse Proxy Setup<a class="headerlink" href="#5-reverse-proxy-setup" title="Permanent link">&para;</a></h2>
<p><strong>Goal:</strong> Forward traffic from Nginx → backend app (e.g., Spring Boot or Node).</p>
<div class="highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="k">server</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">    </span><span class="kn">listen</span><span class="w"> </span><span class="mi">80</span><span class="p">;</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">    </span><span class="kn">server_name</span><span class="w"> </span><span class="s">api.example.com</span><span class="p">;</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">    </span><span class="kn">location</span><span class="w"> </span><span class="s">/</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">        </span><span class="kn">proxy_pass</span><span class="w"> </span><span class="s">http://127.0.0.1:8080</span><span class="p">;</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="w">        </span><span class="kn">proxy_set_header</span><span class="w"> </span><span class="s">Host</span><span class="w"> </span><span class="nv">$host</span><span class="p">;</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="w">        </span><span class="kn">proxy_set_header</span><span class="w"> </span><span class="s">X-Real-IP</span><span class="w"> </span><span class="nv">$remote_addr</span><span class="p">;</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="w">        </span><span class="kn">proxy_set_header</span><span class="w"> </span><span class="s">X-Forwarded-For</span><span class="w"> </span><span class="nv">$proxy_add_x_forwarded_for</span><span class="p">;</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="w">        </span><span class="kn">proxy_set_header</span><span class="w"> </span><span class="s">X-Forwarded-Proto</span><span class="w"> </span><span class="nv">$scheme</span><span class="p">;</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="p">}</span>
</span></code></pre></div>
<p>✅ Best practice:</p>
<ul>
<li>Always pass client IP headers.</li>
<li>Use <code>proxy_pass</code> <strong>without trailing slash</strong> unless you understand path rewriting.</li>
<li>Protect upstreams (never expose raw app ports to the internet).</li>
</ul>
<hr />
<h2 id="6-https-tls-configuration">🔒 6. HTTPS (TLS) Configuration<a class="headerlink" href="#6-https-tls-configuration" title="Permanent link">&para;</a></h2>
<p>Using <strong>Let’s Encrypt</strong> certificates (managed by <code>certbot</code>):</p>
<div class="highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>sudo<span class="w"> </span>certbot<span class="w"> </span>--nginx<span class="w"> </span>-d<span class="w"> </span>example.com<span class="w"> </span>-d<span class="w"> </span>www.example.com
</span></code></pre></div>
<p>Manual example:</p>
<div class="highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="k">server</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">    </span><span class="kn">listen</span><span class="w"> </span><span class="mi">443</span><span class="w"> </span><span class="s">ssl</span><span class="p">;</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">    </span><span class="kn">server_name</span><span class="w"> </span><span class="s">example.com</span><span class="p">;</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">    </span><span class="kn">ssl_certificate</span><span class="w">     </span><span class="s">/etc/letsencrypt/live/example.com/fullchain.pem</span><span class="p">;</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">    </span><span class="kn">ssl_certificate_key</span><span class="w"> </span><span class="s">/etc/letsencrypt/live/example.com/privkey.pem</span><span class="p">;</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w">    </span><span class="kn">location</span><span class="w"> </span><span class="s">/</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="w">        </span><span class="kn">proxy_pass</span><span class="w"> </span><span class="s">http://127.0.0.1:8080</span><span class="p">;</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="p">}</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="k">server</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="w">    </span><span class="kn">listen</span><span class="w"> </span><span class="mi">80</span><span class="p">;</span>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="w">    </span><span class="kn">server_name</span><span class="w"> </span><span class="s">example.com</span><span class="p">;</span>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a><span class="w">    </span><span class="kn">return</span><span class="w"> </span><span class="mi">301</span><span class="w"> </span><span class="s">https://</span><span class="nv">$host$request_uri</span><span class="p">;</span>
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a><span class="p">}</span>
</span></code></pre></div>
<p>👉 Always redirect HTTP → HTTPS.</p>
<hr />
<h2 id="7-load-balancing-example">⚡ 7. Load Balancing Example<a class="headerlink" href="#7-load-balancing-example" title="Permanent link">&para;</a></h2>
<p>Round-robin across two backend servers:</p>
<div class="highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="k">upstream</span><span class="w"> </span><span class="s">backend_cluster</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">    </span><span class="kn">server</span><span class="w"> </span><span class="n">10.0.0.2</span><span class="p">:</span><span class="mi">8080</span><span class="p">;</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">    </span><span class="kn">server</span><span class="w"> </span><span class="n">10.0.0.3</span><span class="p">:</span><span class="mi">8080</span><span class="p">;</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="p">}</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="k">server</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">    </span><span class="kn">listen</span><span class="w"> </span><span class="mi">80</span><span class="p">;</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="w">    </span><span class="kn">server_name</span><span class="w"> </span><span class="s">app.example.com</span><span class="p">;</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="w">    </span><span class="kn">location</span><span class="w"> </span><span class="s">/</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="w">        </span><span class="kn">proxy_pass</span><span class="w"> </span><span class="s">http://backend_cluster</span><span class="p">;</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="p">}</span>
</span></code></pre></div>
<p>Variants:</p>
<ul>
<li><code>ip_hash;</code> for sticky sessions</li>
<li><code>least_conn;</code> for even load</li>
</ul>
<hr />
<h2 id="8-useful-directives-variables">🧠 8. Useful Directives &amp; Variables<a class="headerlink" href="#8-useful-directives-variables" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Directive</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>root</code></td>
<td>Directory to serve files from</td>
</tr>
<tr>
<td><code>index</code></td>
<td>Default file to serve</td>
</tr>
<tr>
<td><code>server_name</code></td>
<td>Hostname match for requests</td>
</tr>
<tr>
<td><code>error_page</code></td>
<td>Custom error responses</td>
</tr>
<tr>
<td><code>rewrite</code></td>
<td>URL rewriting</td>
</tr>
<tr>
<td><code>try_files</code></td>
<td>Fallbacks for static serving</td>
</tr>
<tr>
<td><code>proxy_pass</code></td>
<td>Forward to backend</td>
</tr>
<tr>
<td><code>proxy_set_header</code></td>
<td>Pass headers to backend</td>
</tr>
</tbody>
</table>
<p><strong>Common variables:</strong></p>
<ul>
<li><code>$remote_addr</code> → client IP</li>
<li><code>$host</code> → domain in request</li>
<li><code>$uri</code> → path part of request</li>
<li><code>$request_uri</code> → original request including query</li>
<li><code>$upstream_addr</code> → backend server used</li>
</ul>
<hr />
<h2 id="9-logging-and-monitoring">🧩 9. Logging and Monitoring<a class="headerlink" href="#9-logging-and-monitoring" title="Permanent link">&para;</a></h2>
<p>Logs are your best debugging friend:</p>
<div class="highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>tail<span class="w"> </span>-f<span class="w"> </span>/var/log/nginx/access.log
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>tail<span class="w"> </span>-f<span class="w"> </span>/var/log/nginx/error.log
</span></code></pre></div>
<p>Sample log format:</p>
<div class="highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>127.0.0.1 - - [15/Oct/2025:12:34:56 +0000] &quot;GET /index.html HTTP/1.1&quot; 200 612
</span></code></pre></div>
<p>You can define custom formats:</p>
<div class="highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="k">log_format</span><span class="w"> </span><span class="s">main</span><span class="w"> </span><span class="s">&#39;</span><span class="nv">$remote_addr</span><span class="w"> </span><span class="s">-</span><span class="w"> </span><span class="nv">$host</span><span class="w"> </span><span class="s">[</span><span class="nv">$time_local]</span><span class="w"> </span><span class="s">&quot;</span><span class="nv">$request&quot;</span><span class="w"> </span><span class="nv">$status</span><span class="w"> </span><span class="nv">$body_bytes_sent&#39;</span><span class="p">;</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="k">access_log</span><span class="w"> </span><span class="s">/var/log/nginx/access.log</span><span class="w"> </span><span class="s">main</span><span class="p">;</span>
</span></code></pre></div>
<hr />
<h2 id="10-caching-static-assets">🧩 10. Caching Static Assets<a class="headerlink" href="#10-caching-static-assets" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="k">location</span><span class="w"> </span><span class="p">~</span><span class="sr">*</span><span class="w"> </span><span class="s">\.(jpg|jpeg|png|gif|css|js|ico|woff2?)</span>$<span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="w">    </span><span class="kn">expires</span><span class="w"> </span><span class="s">30d</span><span class="p">;</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">    </span><span class="kn">add_header</span><span class="w"> </span><span class="s">Cache-Control</span><span class="w"> </span><span class="s">&quot;public,</span><span class="w"> </span><span class="s">no-transform&quot;</span><span class="p">;</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="p">}</span>
</span></code></pre></div>
<p>👉 Offload repeated requests from your backend and improve browser performance.</p>
<hr />
<h2 id="11-security-hardening">🧱 11. Security Hardening<a class="headerlink" href="#11-security-hardening" title="Permanent link">&para;</a></h2>
<ul>
<li>Disable server version info:</li>
</ul>
<p><div class="highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="k">server_tokens</span><span class="w"> </span><span class="no">off</span><span class="p">;</span>
</span></code></pre></div>
* Limit request size:</p>
<p><div class="highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="k">client_max_body_size</span><span class="w"> </span><span class="s">10M</span><span class="p">;</span>
</span></code></pre></div>
* Prevent clickjacking &amp; MIME sniffing:</p>
<p><div class="highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="k">add_header</span><span class="w"> </span><span class="s">X-Frame-Options</span><span class="w"> </span><span class="s">SAMEORIGIN</span><span class="p">;</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="k">add_header</span><span class="w"> </span><span class="s">X-Content-Type-Options</span><span class="w"> </span><span class="s">nosniff</span><span class="p">;</span>
</span></code></pre></div>
* Use rate limiting (basic DDOS protection):</p>
<div class="highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="k">limit_req_zone</span><span class="w"> </span><span class="nv">$binary_remote_addr</span><span class="w"> </span><span class="s">zone=api:10m</span><span class="w"> </span><span class="s">rate=10r/s</span><span class="p">;</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="k">location</span><span class="w"> </span><span class="s">/api/</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w">    </span><span class="kn">limit_req</span><span class="w"> </span><span class="s">zone=api</span><span class="w"> </span><span class="s">burst=20</span><span class="p">;</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="w">    </span><span class="kn">proxy_pass</span><span class="w"> </span><span class="s">http://backend</span><span class="p">;</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="p">}</span>
</span></code></pre></div>
<hr />
<h2 id="12-example-full-setup-static-api-proxy-https">🧩 12. Example Full Setup (Static + API Proxy + HTTPS)<a class="headerlink" href="#12-example-full-setup-static-api-proxy-https" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="k">server</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="w">    </span><span class="kn">listen</span><span class="w"> </span><span class="mi">80</span><span class="p">;</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">    </span><span class="kn">server_name</span><span class="w"> </span><span class="s">example.com</span><span class="w"> </span><span class="s">www.example.com</span><span class="p">;</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="w">    </span><span class="kn">return</span><span class="w"> </span><span class="mi">301</span><span class="w"> </span><span class="s">https://</span><span class="nv">$host$request_uri</span><span class="p">;</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="p">}</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="k">server</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="w">    </span><span class="kn">listen</span><span class="w"> </span><span class="mi">443</span><span class="w"> </span><span class="s">ssl</span><span class="w"> </span><span class="s">http2</span><span class="p">;</span>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="w">    </span><span class="kn">server_name</span><span class="w"> </span><span class="s">example.com</span><span class="w"> </span><span class="s">www.example.com</span><span class="p">;</span>
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="w">    </span><span class="kn">ssl_certificate</span><span class="w">     </span><span class="s">/etc/letsencrypt/live/example.com/fullchain.pem</span><span class="p">;</span>
</span><span id="__span-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a><span class="w">    </span><span class="kn">ssl_certificate_key</span><span class="w"> </span><span class="s">/etc/letsencrypt/live/example.com/privkey.pem</span><span class="p">;</span>
</span><span id="__span-13-13"><a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a>
</span><span id="__span-13-14"><a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a><span class="w">    </span><span class="kn">root</span><span class="w"> </span><span class="s">/var/www/html</span><span class="p">;</span>
</span><span id="__span-13-15"><a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a><span class="w">    </span><span class="kn">index</span><span class="w"> </span><span class="s">index.html</span><span class="p">;</span>
</span><span id="__span-13-16"><a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a>
</span><span id="__span-13-17"><a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a><span class="w">    </span><span class="kn">location</span><span class="w"> </span><span class="s">/api/</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-13-18"><a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a><span class="w">        </span><span class="kn">proxy_pass</span><span class="w"> </span><span class="s">http://127.0.0.1:8080</span><span class="p">;</span>
</span><span id="__span-13-19"><a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a><span class="w">        </span><span class="kn">proxy_set_header</span><span class="w"> </span><span class="s">Host</span><span class="w"> </span><span class="nv">$host</span><span class="p">;</span>
</span><span id="__span-13-20"><a id="__codelineno-13-20" name="__codelineno-13-20" href="#__codelineno-13-20"></a><span class="w">        </span><span class="kn">proxy_set_header</span><span class="w"> </span><span class="s">X-Forwarded-For</span><span class="w"> </span><span class="nv">$remote_addr</span><span class="p">;</span>
</span><span id="__span-13-21"><a id="__codelineno-13-21" name="__codelineno-13-21" href="#__codelineno-13-21"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-13-22"><a id="__codelineno-13-22" name="__codelineno-13-22" href="#__codelineno-13-22"></a>
</span><span id="__span-13-23"><a id="__codelineno-13-23" name="__codelineno-13-23" href="#__codelineno-13-23"></a><span class="w">    </span><span class="kn">location</span><span class="w"> </span><span class="s">/</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-13-24"><a id="__codelineno-13-24" name="__codelineno-13-24" href="#__codelineno-13-24"></a><span class="w">        </span><span class="kn">try_files</span><span class="w"> </span><span class="nv">$uri</span><span class="w"> </span><span class="nv">$uri/</span><span class="w"> </span><span class="p">=</span><span class="mi">404</span><span class="p">;</span>
</span><span id="__span-13-25"><a id="__codelineno-13-25" name="__codelineno-13-25" href="#__codelineno-13-25"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-13-26"><a id="__codelineno-13-26" name="__codelineno-13-26" href="#__codelineno-13-26"></a><span class="p">}</span>
</span></code></pre></div>
<hr />
<h2 id="13-nginx-in-development-environments">🧩 13. Nginx in Development Environments<a class="headerlink" href="#13-nginx-in-development-environments" title="Permanent link">&para;</a></h2>
<h3 id="jetbrains-idea-pycharm">JetBrains (IDEA / PyCharm)<a class="headerlink" href="#jetbrains-idea-pycharm" title="Permanent link">&para;</a></h3>
<ul>
<li>You can <strong>run and debug local servers</strong> via “Edit Configurations → Nginx”.</li>
<li>Syntax highlighting is built-in; test configs directly with <code>nginx -t</code>.</li>
<li>Use <code>Deployment</code> tools to sync <code>/etc/nginx/</code> or container configs to remote hosts.</li>
</ul>
<h3 id="vs-code">VS Code<a class="headerlink" href="#vs-code" title="Permanent link">&para;</a></h3>
<p>Install:</p>
<ul>
<li><strong>Nginx Configuration Language</strong> (syntax highlighting)</li>
<li><strong>Nginx Snippets</strong> (ready-to-use config templates)</li>
<li><strong>Docker Extension</strong> (if you’re running Nginx in containers)</li>
</ul>
<p>Run via Docker:</p>
<div class="highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">8080</span>:80<span class="w"> </span>-v<span class="w"> </span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/nginx.conf:/etc/nginx/nginx.conf<span class="w"> </span>nginx
</span></code></pre></div>
<hr />
<h2 id="14-troubleshooting">🧰 14. Troubleshooting<a class="headerlink" href="#14-troubleshooting" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Problem</th>
<th>Fix</th>
</tr>
</thead>
<tbody>
<tr>
<td>Config change not applied</td>
<td><code>sudo nginx -t &amp;&amp; sudo systemctl reload nginx</code></td>
</tr>
<tr>
<td>“Bad Gateway (502)”</td>
<td>Backend down or wrong <code>proxy_pass</code> target</td>
</tr>
<tr>
<td>Permission denied</td>
<td>Ensure Nginx user (<code>www-data</code>/<code>nginx</code>) can access files</td>
</tr>
<tr>
<td>Infinite redirect loop</td>
<td>Check <code>proxy_pass</code> URLs and rewrite rules</td>
</tr>
<tr>
<td>SSL errors</td>
<td>Verify certificate paths &amp; permissions</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="15-advanced-topics-for-later">🧠 15. Advanced Topics (for later)<a class="headerlink" href="#15-advanced-topics-for-later" title="Permanent link">&para;</a></h2>
<ul>
<li>Reverse proxy caching (<code>proxy_cache_path</code>, <code>proxy_cache</code>).</li>
<li>HTTP/2 and QUIC/HTTP3 enablement.</li>
<li>Gzip and Brotli compression.</li>
<li>Load balancing with health checks.</li>
<li>Serving multiple domains (SNI).</li>
<li>Dockerized Nginx reverse proxy setups.</li>
<li>Using Nginx as a static file CDN.</li>
</ul>
<hr />
<h2 id="summary">✅ Summary<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h2>
<ul>
<li>Nginx is both <strong>a web server and a reverse proxy</strong> — efficient, flexible, and production-grade.</li>
<li>Serve static content directly and offload dynamic requests to backends.</li>
<li>Always test (<code>nginx -t</code>) before reloading.</li>
<li>Secure with HTTPS, caching, and rate limiting.</li>
<li>Lightweight, predictable, and nearly indestructible — it’s the web’s quiet workhorse.</li>
</ul>
<hr />
<p>📄 <strong>File path suggestion:</strong></p>
<div class="highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>docs/
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>└─ cheatsheets/
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>   └─ tools/
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>      └─ nginx/
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>         └─ quick-refresher.md
</span></code></pre></div>
<hr />
<h2 id="16-nginx-in-developer-workflows-jetbrains-vs-code">💻 16. Nginx in Developer Workflows (JetBrains &amp; VS Code)<a class="headerlink" href="#16-nginx-in-developer-workflows-jetbrains-vs-code" title="Permanent link">&para;</a></h2>
<p>Nginx isn’t just a server you “deploy somewhere.”<br />
It’s a <strong>local testing tool</strong>, <strong>reverse proxy in development</strong>, and part of modern CI/CD pipelines.</p>
<hr />
<h3 id="jetbrains-ides-intellij-idea-pycharm-etc">🧩 JetBrains IDEs (IntelliJ IDEA, PyCharm, etc.)<a class="headerlink" href="#jetbrains-ides-intellij-idea-pycharm-etc" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Feature</th>
<th>What It Does</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>File templates</strong></td>
<td>Built-in syntax highlighting for <code>nginx.conf</code> and <code>.conf</code> files.</td>
</tr>
<tr>
<td><strong>Remote deployment</strong></td>
<td>Sync <code>/etc/nginx/</code> or Docker configs via “Deployment → Remote Host”.</td>
</tr>
<tr>
<td><strong>Before launch tasks</strong></td>
<td>Run <code>nginx -t</code> automatically to test config before restarting.</td>
</tr>
<tr>
<td><strong>Docker integration</strong></td>
<td>Configure Nginx container services directly in IDE Services tab.</td>
</tr>
</tbody>
</table>
<p><strong>Pro tip:</strong><br />
In JetBrains, you can make a <em>Run Configuration</em> that executes:
<div class="highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>sudo<span class="w"> </span>nginx<span class="w"> </span>-t<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sudo<span class="w"> </span>systemctl<span class="w"> </span>reload<span class="w"> </span>nginx
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="sb">````</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>This<span class="w"> </span>gives<span class="w"> </span>you<span class="w"> </span>one-click<span class="w"> </span>config<span class="w"> </span>validation<span class="w"> </span>+<span class="w"> </span>reload<span class="w"> </span>directly<span class="w"> </span>from<span class="w"> </span>the<span class="w"> </span>IDE.
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>---
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span class="c1">### 🧠 VS Code Integration</span>
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a>
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a>VS<span class="w"> </span>Code<span class="w"> </span>can<span class="w"> </span>act<span class="w"> </span>as<span class="w"> </span>your<span class="w"> </span>Nginx<span class="w"> </span>control<span class="w"> </span>panel<span class="w"> </span>with<span class="w"> </span>the<span class="w"> </span>right<span class="w"> </span>extensions.
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a>
</span><span id="__span-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a>**Recommended<span class="w"> </span>setup:**
</span><span id="__span-16-13"><a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a>
</span><span id="__span-16-14"><a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a>*<span class="w"> </span>**Nginx<span class="w"> </span>Configuration<span class="w"> </span>Language**<span class="w"> </span>→<span class="w"> </span>syntax<span class="w"> </span>+<span class="w"> </span>linting
</span><span id="__span-16-15"><a id="__codelineno-16-15" name="__codelineno-16-15" href="#__codelineno-16-15"></a>*<span class="w"> </span>**Nginx<span class="w"> </span>Snippets**<span class="w"> </span>→<span class="w"> </span>quick<span class="w"> </span>templates
</span><span id="__span-16-16"><a id="__codelineno-16-16" name="__codelineno-16-16" href="#__codelineno-16-16"></a>*<span class="w"> </span>**Docker<span class="w"> </span>Extension**<span class="w"> </span>→<span class="w"> </span>manage<span class="w"> </span>running<span class="w"> </span>containers
</span><span id="__span-16-17"><a id="__codelineno-16-17" name="__codelineno-16-17" href="#__codelineno-16-17"></a>*<span class="w"> </span>**REST<span class="w"> </span>Client**<span class="w"> </span>→<span class="w"> </span><span class="nb">test</span><span class="w"> </span>API<span class="w"> </span>endpoints<span class="w"> </span>proxied<span class="w"> </span>through<span class="w"> </span>Nginx
</span><span id="__span-16-18"><a id="__codelineno-16-18" name="__codelineno-16-18" href="#__codelineno-16-18"></a>
</span><span id="__span-16-19"><a id="__codelineno-16-19" name="__codelineno-16-19" href="#__codelineno-16-19"></a>You<span class="w"> </span>can<span class="w"> </span>run<span class="w"> </span>Nginx<span class="w"> </span>locally<span class="w"> </span><span class="k">for</span><span class="w"> </span>frontend-backend<span class="w"> </span>routing:
</span><span id="__span-16-20"><a id="__codelineno-16-20" name="__codelineno-16-20" href="#__codelineno-16-20"></a>
</span><span id="__span-16-21"><a id="__codelineno-16-21" name="__codelineno-16-21" href="#__codelineno-16-21"></a><span class="sb">```</span>bash
</span><span id="__span-16-22"><a id="__codelineno-16-22" name="__codelineno-16-22" href="#__codelineno-16-22"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span><span class="se">\</span>
</span><span id="__span-16-23"><a id="__codelineno-16-23" name="__codelineno-16-23" href="#__codelineno-16-23"></a><span class="w">  </span>--name<span class="w"> </span>dev-nginx<span class="w"> </span><span class="se">\</span>
</span><span id="__span-16-24"><a id="__codelineno-16-24" name="__codelineno-16-24" href="#__codelineno-16-24"></a><span class="w">  </span>-p<span class="w"> </span><span class="m">8080</span>:80<span class="w"> </span><span class="se">\</span>
</span><span id="__span-16-25"><a id="__codelineno-16-25" name="__codelineno-16-25" href="#__codelineno-16-25"></a><span class="w">  </span>-v<span class="w"> </span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/nginx.conf:/etc/nginx/nginx.conf:ro<span class="w"> </span><span class="se">\</span>
</span><span id="__span-16-26"><a id="__codelineno-16-26" name="__codelineno-16-26" href="#__codelineno-16-26"></a><span class="w">  </span>nginx:latest
</span></code></pre></div></p>
<hr />
<h2 id="17-nginx-docker-compose-in-local-development">🧰 17. Nginx + Docker Compose in Local Development<a class="headerlink" href="#17-nginx-docker-compose-in-local-development" title="Permanent link">&para;</a></h2>
<p>A clean, composable setup to proxy requests between your frontend and backend:</p>
<div class="highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;3.9&quot;</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="nt">services</span><span class="p">:</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="w">  </span><span class="nt">nginx</span><span class="p">:</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx:latest</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="w">    </span><span class="nt">container_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="w">    </span><span class="nt">ports</span><span class="p">:</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;80:80&quot;</span>
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span>
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./nginx.conf:/etc/nginx/nginx.conf:ro</span>
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a><span class="w">    </span><span class="nt">depends_on</span><span class="p">:</span>
</span><span id="__span-17-11"><a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">backend</span>
</span><span id="__span-17-12"><a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">frontend</span>
</span><span id="__span-17-13"><a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a>
</span><span id="__span-17-14"><a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a><span class="w">  </span><span class="nt">frontend</span><span class="p">:</span>
</span><span id="__span-17-15"><a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a><span class="w">    </span><span class="nt">build</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./frontend</span>
</span><span id="__span-17-16"><a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a><span class="w">    </span><span class="nt">expose</span><span class="p">:</span>
</span><span id="__span-17-17"><a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;3000&quot;</span>
</span><span id="__span-17-18"><a id="__codelineno-17-18" name="__codelineno-17-18" href="#__codelineno-17-18"></a>
</span><span id="__span-17-19"><a id="__codelineno-17-19" name="__codelineno-17-19" href="#__codelineno-17-19"></a><span class="w">  </span><span class="nt">backend</span><span class="p">:</span>
</span><span id="__span-17-20"><a id="__codelineno-17-20" name="__codelineno-17-20" href="#__codelineno-17-20"></a><span class="w">    </span><span class="nt">build</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./backend</span>
</span><span id="__span-17-21"><a id="__codelineno-17-21" name="__codelineno-17-21" href="#__codelineno-17-21"></a><span class="w">    </span><span class="nt">expose</span><span class="p">:</span>
</span><span id="__span-17-22"><a id="__codelineno-17-22" name="__codelineno-17-22" href="#__codelineno-17-22"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;8080&quot;</span>
</span></code></pre></div>
<p>Then <code>nginx.conf</code>:</p>
<div class="highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="k">events</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="k">http</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="w">  </span><span class="kn">server</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="w">    </span><span class="kn">listen</span><span class="w"> </span><span class="mi">80</span><span class="p">;</span>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="w">    </span><span class="kn">location</span><span class="w"> </span><span class="s">/</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="w">      </span><span class="kn">proxy_pass</span><span class="w"> </span><span class="s">http://frontend:3000</span><span class="p">;</span>
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a>
</span><span id="__span-18-11"><a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a><span class="w">    </span><span class="kn">location</span><span class="w"> </span><span class="s">/api/</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-18-12"><a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a><span class="w">      </span><span class="kn">proxy_pass</span><span class="w"> </span><span class="s">http://backend:8080</span><span class="p">;</span>
</span><span id="__span-18-13"><a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-18-14"><a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-18-15"><a id="__codelineno-18-15" name="__codelineno-18-15" href="#__codelineno-18-15"></a><span class="p">}</span>
</span></code></pre></div>
<p>✅ <strong>Benefits:</strong></p>
<ul>
<li>Unified local environment — no cross-origin chaos.</li>
<li>Hot reload compatible (mount local code).</li>
<li>Easier to mirror staging/production later.</li>
</ul>
<hr />
<h2 id="18-staging-vs-production-patterns">🚀 18. Staging vs. Production Patterns<a class="headerlink" href="#18-staging-vs-production-patterns" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Environment</th>
<th>Goal</th>
<th>Typical Nginx Role</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Local</strong></td>
<td>Simulate routing and test caching/proxy rules</td>
<td>Run via Docker or native install</td>
</tr>
<tr>
<td><strong>Staging</strong></td>
<td>Mimic production routing and SSL</td>
<td>Reverse proxy + TLS</td>
</tr>
<tr>
<td><strong>Production</strong></td>
<td>Serve static content + proxy dynamic requests</td>
<td>Load balancer + cache layer</td>
</tr>
</tbody>
</table>
<p>Example split configs:</p>
<div class="highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>nginx/
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a> ├─ nginx.conf           # global settings
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a> ├─ conf.d/
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a> │   ├─ dev.conf         # local proxy setup
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a> │   ├─ staging.conf     # SSL, rate limiting
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a> │   └─ production.conf  # caching, load balancing
</span></code></pre></div>
<hr />
<h2 id="19-common-cicd-integrations">🧩 19. Common CI/CD Integrations<a class="headerlink" href="#19-common-cicd-integrations" title="Permanent link">&para;</a></h2>
<p><strong>Build pipeline (Dockerized):</strong></p>
<div class="highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="c1"># Dockerfile</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="l l-Scalar l-Scalar-Plain">FROM nginx:latest</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="l l-Scalar l-Scalar-Plain">COPY nginx.conf /etc/nginx/nginx.conf</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="l l-Scalar l-Scalar-Plain">COPY dist/ /usr/share/nginx/html</span>
</span></code></pre></div>
<p><strong>GitHub Actions snippet:</strong></p>
<div class="highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Build &amp; Push Nginx Image</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="w">    </span><span class="no">docker build -t ghcr.io/user/app-nginx:${{ github.sha }} .</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="w">    </span><span class="no">docker push ghcr.io/user/app-nginx:${{ github.sha }}</span>
</span></code></pre></div>
<p><strong>Deployment example (Docker Swarm / Kubernetes):</strong></p>
<div class="highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="c1"># Swarm stack.yml</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="nt">services</span><span class="p">:</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="w">  </span><span class="nt">nginx</span><span class="p">:</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ghcr.io/user/app-nginx:latest</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="w">    </span><span class="nt">ports</span><span class="p">:</span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;80:80&quot;</span>
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;443:443&quot;</span>
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="w">    </span><span class="nt">deploy</span><span class="p">:</span>
</span><span id="__span-22-9"><a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="w">      </span><span class="nt">replicas</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
</span><span id="__span-22-10"><a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a><span class="w">      </span><span class="nt">restart_policy</span><span class="p">:</span>
</span><span id="__span-22-11"><a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a><span class="w">        </span><span class="nt">condition</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">on-failure</span>
</span></code></pre></div>
<hr />
<h2 id="20-best-practices-developer-habits">🧠 20. Best Practices &amp; Developer Habits<a class="headerlink" href="#20-best-practices-developer-habits" title="Permanent link">&para;</a></h2>
<h3 id="configuration-hygiene">Configuration Hygiene<a class="headerlink" href="#configuration-hygiene" title="Permanent link">&para;</a></h3>
<ul>
<li>Keep production configs <strong>readonly</strong> and version-controlled.</li>
<li>Split by domain or role — one file per app.</li>
<li>Use includes:</li>
</ul>
<div class="highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="k">include</span><span class="w"> </span><span class="n">/etc/nginx/conf.d/*.conf</span>;
</span></code></pre></div>
<h3 id="developer-sanity-checklist">Developer sanity checklist<a class="headerlink" href="#developer-sanity-checklist" title="Permanent link">&para;</a></h3>
<ul>
<li>Always run <code>nginx -t</code> before reload.</li>
<li>Use <code>$host</code> and <code>$remote_addr</code> headers when proxying.</li>
<li>Don’t run with root inside containers (use <code>nginx</code> user).</li>
<li>Redirect all HTTP to HTTPS — even locally, if possible.</li>
<li>Keep logs rotated (<code>logrotate</code> or Docker log limits).</li>
</ul>
<h3 id="ide-habit">IDE habit<a class="headerlink" href="#ide-habit" title="Permanent link">&para;</a></h3>
<ul>
<li>Format configs automatically before commit.</li>
<li>Use pre-commit hooks to validate syntax:</li>
</ul>
<div class="highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>nginx<span class="w"> </span>-t<span class="w"> </span>-q<span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
</span></code></pre></div>
<hr />
<h2 id="summary-developer-edition">✅ Summary (Developer Edition)<a class="headerlink" href="#summary-developer-edition" title="Permanent link">&para;</a></h2>
<ul>
<li>Integrate Nginx directly in IDE or Compose — no manual SSH needed.</li>
<li>Test configs automatically before reloads.</li>
<li>Run the same Nginx image locally and in production for consistency.</li>
<li>Version-control your <code>.conf</code> files like code — because they <em>are</em> code.</li>
<li>Treat Nginx as your <strong>traffic controller</strong>, not just a web server.</li>
</ul>
<hr />
<p>📄 <strong>Final structure suggestion:</strong></p>
<div class="highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>docs/
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>└─ cheatsheets/
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>   └─ tools/
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a>      └─ nginx/
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a>         └─ quick-refresher.md
</span></code></pre></div>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../../%E2%9A%99%20systemd/quick-refresher/" class="btn btn-neutral float-left" title="quick-refresher"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../../%F0%9F%90%B3%20docker/quick-refresher/" class="btn btn-neutral float-right" title="quick-refresher">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/edgaras87/knowledge-vault" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../../%E2%9A%99%20systemd/quick-refresher/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../../%F0%9F%90%B3%20docker/quick-refresher/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../../..";</script>
    <script src="../../../../js/theme_extra.js"></script>
    <script src="../../../../js/theme.js"></script>
      <script src="../../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
